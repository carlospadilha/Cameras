function loadAudio(){function e(e,t){return'<audio id="'+e+'" src="'+t+'"></audio>'}C$("#sons").innerHTML=e("d29000","sound/swoosh.mp3")+e("d29001","sound/pop1.mp3")+e("d29002","sound/SpeechOn.mp3")+e("d29004","sound/Ding.mp3")+e("d29005","sound/Pop-up.mp3")+e("d29006","sound/Notify2.mp3")+e("d29007","sound/Notify.mp3")+e("d29010","sound/clic.mp3")}function popy(){CP.playSound("d29001")}function ding(){CP.playSound("d29004")}function somErr(){CP.playSound("d29006")}function errSnd(){CP.playSound("d29007")}function clic(){CP.playSound("d29010")}var msgIndex=1,logIndex=1,idIndex=1,jsonReqBusy=!1,loadingTimer,msgTimer,progressTime=0,imgError=' onerror=this.src="img/blank.png"',screenWidth=981,dadoMem,msgArray=new Array,msgIdx=0,msgPointer=0,msgSended=!0,ipClient,mediaFilter=function(e){return/(.*)(\.mkv|\.mp3|\.MP3|\.mp4|\.avi|\.wma|\.VOB)/.exec(e)},encChar=function(e){return e.replace(/\'/g,"zoZ")},decChar=function(e){return e.replace(/zoZ/g,"'")},timeDate=function(){return(new Date).getTime()},newTime=function(){return timeDate()/1e3};navigator.sayswho=function(){var e,t=navigator.userAgent,n=navigator.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===n[1]&&(e=t.match(/\bOPR\/(\d+)/),null!=e)?"Opera "+e[1]:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))}(),$(document).ready(function(){/safari/g.test(navigator.sayswho.toLowerCase())||(C$("#d29000").volume=.5,C$("#d29001").volume=.3,C$("#d29006").volume=.5,C$("#d29007").volume=.3,C$("#d29010").volume=.3)});var CP={UTF8:function(e){if(!e)return e;for(var t=-1,n=e.search(/[\xC2-\xF4][\x80-\xBF]/);n>=0;n=e.substr(t+1).search(/[\xC2-\xF4][\x80-\xBF]/))t+=n+1,e=e.charCodeAt(t)<224?e.substr(0,t)+String.fromCharCode(64*(31&e.charCodeAt(t))+(63&e.charCodeAt(t+1))&4095)+e.substr(t+2):e.substr(0,t)+String.fromCharCode(4096*(31&e.charCodeAt(t))+64*(63&e.charCodeAt(t+1))+(63&e.charCodeAt(t+2))&65535)+e.substr(t+3);return e},encodeUTF8:function(e){e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");for(var t="",n=0,r=0,a=e.length,o=0;a>o;o++){var i=e.charCodeAt(o),s=null;128>i?r++:s=i>127&&2048>i?String.fromCharCode(i>>6|192)+String.fromCharCode(63&i|128):String.fromCharCode(i>>12|224)+String.fromCharCode(i>>6&63|128)+String.fromCharCode(63&i|128),null!=s&&(r>n&&(t+=e.substring(n,r)),t+=s,n=r=o+1)}return r>n&&(t+=e.substring(n,e.length)),t},FindCRC:function(e){function t(e){return e>=0?e:e>>>=0}var n=4294967295,r="";for(i=0;i<e.length;){var a=e.charAt(i++);r+="z">=a?a.toLowerCase():a}e=r;for(var o=0;o<e.length;o++){n^=e.charCodeAt(o)<<24;for(var i=0;8>i;i++)2147483648&t(n)?n=n<<1^79764919:n<<=1}for(0>n&&(n>>>=0),n=n.toString(16);n.length<8;)n="0"+n;return n},HMStoS:function(e){if(e){var t=0;":"==e.substr(-6,1)&&(t=3600*parseInt(e.substr(-8,2),10)),e=t+60*parseInt(e.substr(-5,2),10)+parseInt(e.substr(-2,2),10)}return e},StoHMS:function(e){e=parseInt(e,10);var t=parseInt(e/3600)%24,n=parseInt(e/60)%60,r=e%60;return(t>0?t+":":"")+(10>n?"0"+n:n)+":"+(10>r?"0"+r:r)},pausecomp:function(e){var t,n=new Date;do t=new Date;while(e>t-n)},charToHex:function(e){for(var t="",n=0;n<e.length;)t+=CP.decToHex(e.charCodeAt(n++))+" ";return t},charHex:function(e){if(!e)return e;for(var t="",n=0;n<e.length;)t+=CP.decToHex(e.charCodeAt(n++));return t},hexToChar:function(e){if(!e)return e;for(var t="",n=0;n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t},hexToDec:function(e){return"A"==e?10:"B"==e?11:"C"==e?12:"D"==e?13:"E"==e?14:"F"==e?15:e},decToHex:function(e){for(var t=Number(e).toString(16).toUpperCase();t.length<2;)t="0"+t;return t},sort:function(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return r>n?-1:n>r?1:0},sortByLabel:function(e,t){var n=e.label.toLowerCase(),r=t.label.toLowerCase();return r>n?-1:n>r?1:0},sortByFile:function(e,t){var n=e.file.toLowerCase();n=CP.fileOfPath(n);var r=t.file.toLowerCase();return r=CP.fileOfPath(r),r>n?-1:n>r?1:0},fraseCompare:function(e,t){var n=/([^_ 0-9\\,\/&=?.():\[\]-][a-zÁÉÍÓÚáéíóúÀàüÇç']*)/g,r=function(e){e=e.replace("mp3","").toLowerCase();for(var t=new Array,r=new Array(2),a="",o="";r=n.exec(e);)r[1]!=a&&(a=r[1],t.push(a),o+=a+" ");return{array:t,string:o}},a=function(e,t){var n=0,r=0;e.forEach(function(e){n+=e.length}),t.forEach(function(e){r+=e.length});var a=r>n,o=Math.max(n,r);if(0==o)return 1;var i=a?t:e,s=a?e:t,u=0,d=0,c=0;return i.forEach(function(e){d+=e.length;for(var t=c;t<s.length;){var n=s[t++];if(e==n){u+=e.length,c=t;break}}}),u/d};return a(r(e).array,r(t).array)},delUltBar:function(e){return"/"==e.substr(e.length-1)?e.substr(0,e.length-1):e},msgStart:function(e){listAddScroll("l50000",msgIndex++ +". "+e)},msgLog:function(e){CP.listAdd("l50000",logIndex++ +".  "+e)},msgOK:function(e){CP.msgStart(CP.jsonRes(e),!0)},jsonRes:function(e){return JSON.parse(e).result},msgErr:function(e,t){function n(){if(msgSended){if(msgPointer==msgIdx)return void(msgPointer=msgIdx=0);msgSended=!1,errSnd();var e=msgArray[msgPointer].texto,t=msgArray[msgPointer].logD;msgPointer++,1==e&&(e="1"),"object"==typeof e&&(e="== objeto =="),e||(e="== nulo ou indefinido ==");var r=$("#d1330");setTimeout(function(){r.texto(e).fadeIn().append('<a href="javascript:CP.msgErrClr()" class="xcancel abs" style="left:333px;top:3px"></a>').css("line-height","50px"),r.isTextOverflow().ovflHeight&&r.css("line-height","25px"),r.isTextOverflow().ovflHeight&&r.css("line-height","16px")},100),t&&CP.msgStart(e),setTimeout(function(){r.fadeOut(function(){msgSended=!0,n()})},5e3)}}msgArray[msgIdx++]={texto:CP.UTF8(e),logD:t},n()},msgErrClr:function(){msgSended=!0,msgPointer=msgIdx=0,$("#d1330").fadeOut()},getJoin:function(e){return"on"==$("#"+e).attr("class").match(/on/i)},bar1to2:function(e){return e.replace(/\\\\/g,"\\").replace(/\\/g,"\\\\")},pathFolder:function(e){return e.substr(0,Math.max(e.lastIndexOf("\\"),e.lastIndexOf("/"))+1)},fileOfPath:function(e){return CP.UTF8(e.substr(Math.max(e.lastIndexOf("\\"),e.lastIndexOf("/"))+1))},barNorInv:function(e){var t=/(.*)(\\)/.test(e),n=/(.*)(\/)/.test(e);return t&&n?null:t?!1:n?!0:void 0},barNormalize:function(e,t){return null!==CP.barNorInv(t)&&t?CP.barNorInv(t)===!0?e.replace(/[\\]/g,"/"):CP.barNorInv(t)===!1?e.replace(/[\/]/g,"\\"):void 0:e},dataStore:function(e,t){$.ajax({url:"php/data.php",type:"POST",data:{data:JSON.stringify(e),type:"w"},error:function(e,n){t(n)},success:function(e){t(e)}})},dataRead:function(e){$.ajax({url:"php/data.php",type:"POST",data:{data:"",type:"r"},success:function(t){""!=t&&t||(t='{"adm":"solrac","ipLocal":"127.0.0.1","userTime":1381974358653}'),e($.parseJSON(t))}})},readWrite:function(e,t,n,r,a){$.ajax({url:"php/readWrite.php",type:"POST",data:{file:e,data:"json"==r?JSON.stringify(t):t,type:n},dataType:r,error:function(e,t){a(t)},success:function(e){a(e)}})},salvaDado:function(e,t,n){CP.dataRead(function(r){r[e]=t,CP.dataStore(r,n)})},recuperaDado:function(e,t){CP.dataRead(function(n){t(n[e])})},proxyAjax:function(e,t,n,r){$.ajax({url:"php/http_request.php",type:"POST",data:{url:e,postData:t},timeout:n,error:function(t,n){CP.msgErr("http request Erro: "+e),r(n?n:null)},success:function(e){r(e?e:null)}})},jsonRequest:function(e,t,n){CP.jsonRequest2(e,',"params":'+t,n)},jsonRequest2:function(e,t,n){jsonReqBusy=!0,$("#s9995").texto(idIndex=999>idIndex?++idIndex:1);var r='{"jsonrpc":"2.0","method":"'+e+'"'+t+',"id":'+idIndex+"}";CP.proxyAjax(IPPort+"/jsonrpc",r,"15000",function(t){if(t)if("timeout"==t)CP.msgErr("Erro jsonRequest: time out"),t=null;else if(/\"error\"/.test(t)){var r="*** JSON "+JSON.parse(t).error.message+": "+e+", idx:"+idIndex;CP.msgErr(r),CP.msgLog(r),t=null}else"{"!=t.substr(0,1)&&(CP.msgErr(t),CP.msgLog(t),t=null);t||CP.rstLoading(),jsonReqBusy=!1,n(t)})},sendUdpRfx:function(e,t,n,r,a){$.ajax({url:"php/udpRfx.php",type:"POST",data:{port:t,data:n,ip:e},timeout:r,error:function(e,t){a(t)},success:function(e){a(CP.hexToChar(e))}})},sendUdp:function(e,t,n,r,a){$.ajax({url:"php/udp.php",type:"POST",data:{port:t,data:CP.charHex(n),ip:e},timeout:r,error:function(e,t){a(t)},success:function(e){a(CP.hexToChar(e))}})},sendTcp:function(e,t,n,r,a,o){$.ajax({url:"php/tcp.php",type:"POST",data:{ip:e,port:t,data:n,rcv:r},timeout:a,error:function(e,t){o("status:"+t)},success:function(e){o(e)}})},sendTcp2:function(e,t,n,r,a,o,i,s){$.ajax({url:"php/tcp.php",type:"POST",data:{ip:e,port:t,data1:n,data2:r,data3:a,data4:o,data5:i},error:function(e,t){s("status:"+t)},success:function(e){s(e)}})},recTcp:function(e,t,n,r,a,o,i,s){$.ajax({url:"php/tcp_read.php",type:"POST",data:{ip:e,port:t,data1:n,data2:r,data3:a,data4:o,data5:i},error:function(e,t){s(t)},success:function(e){s(e)}})},doPost:function(e,t,n){CP.proxyAjax(e,t,"5000",function(e){n(e)})},pageName:function(){var e=window.location.pathname;return e.substring(e.lastIndexOf("/")+1)},ledOnOff:function(e,t,n){null!=t&&(n||(n="bl"),$("#"+e).removeClass("r").removeClass("y").removeClass("g").removeClass("bl"),t&&$("#"+e).addClass(n))},btnLedOnOff:function(e,t){null!=t&&(t?$("#"+e).addClass("on"):$("#"+e).removeClass("on"))},setLoading:function(e,t){if(e){if(!(timeDate()>progressTime+50))return;progressTime=timeDate(),$("#f116").show(),$("#a116").CPslider({value:100*e/t})}else $("#f116").hide();$("#d1305").show(),clearTimeout(loadingTimer),loadingTimer=setTimeout(CP.rstLoading,15e3)},rstLoading:function(){$("#d1305").hide(),$("#d37").texto(0),$("#d38").texto(0)},scrollList:function(e){var t=C$("#"+e),n=t.getElementsByTagName("li");t.appendChild(n[0])},listAdd:function(e,t,n,r,a,o){var i=C$("#"+e),s=document.createElement("li"),u=document.createElement("a");r&&(u.innerHTML='<img src="'+r+'"'+imgError+"> "),u.href="javascript:onBtn"+e+'("'+CP.bar1to2(n?n:"")+'")',u.innerHTML+=t+'<img src="../img/blank.png" class="abs" style="left:2px;width:'+(ipadWin||tabDev?395:250)+'px">',s.appendChild(u),a&&(u=document.createElement("a"),u.href=a,r&&(u.innerHTML='<img src="'+o+'" class="abs" style="left:'+(ipadWin||tabDev?440:283)+'px">'),s.appendChild(u)),i.appendChild(s)},listAddArq:function(e,t,n,r,a,o){var i=C$("#"+e),s=document.createElement("li"),u=document.createElement("pre");r&&(u.innerHTML='<img src="'+r+'" class="imgPath"'+imgError+">"),u.innerHTML+='<img title="'+n+'" src="../img/blank.png" class="blankLine" style="width:'+(ipadWin||tabDev?395:250)+'px">',a&&(n="'"+encChar(CP.bar1to2(n))+"'",u.innerHTML+='<img title="'+a+n+')" src="'+o+'" class="imgPath2" style="left:'+(ipadWin||tabDev?440:283)+'px">'),u.innerHTML+="         "+t,s.appendChild(u),i.appendChild(s)},listAdd2:function(e,t){var n=JSON.parse(CP.UTF8(t));CP.listAddArq(e,n.txt,n.pth,n.img)},listAddVideo:function(e,t,n,r){var a=C$("#"+e),o=document.createElement("li"),i=document.createElement("div"),s=document.createElement("img");s.title=n,r&&(s.src=r,o.appendChild(s)),i.innerHTML=t,o.appendChild(i),a.appendChild(o)},listAddMusic:function(e,t,n,r,a,o,i,s,u,d,c,l,f){function p(e,t,n){var r=document.createElement("a");r.href='javascript:onBtnl12005("'+CP.bar1to2(t)+'")',n&&(r.innerHTML='<img src="'+n+'"'+imgError+"> "),r.innerHTML=r.innerHTML+"<div>"+e+"</div>",h.appendChild(r)}var m=C$("#"+e),h=document.createElement("li");p(t,n,r),p(a,o,i),p(s,u,d),tabDev||p(c,l,f),m.appendChild(h)},listAddMenu:function(e,t,n){n||(n="");var r=C$("#"+e),a=document.createElement("li"),o=document.createElement("a");o.href="javascript:onBtn"+e+'("'+CP.bar1to2(n)+'")',o.innerHTML+=t,a.appendChild(o),r.appendChild(a)},imgAdd:function(e,t,n,r,a,o,i,s){var u=C$("#"+e);u.innerHTML='<img id="'+t+'" src="'+n+'" alt="" class="abs" style="left:'+o+"px;top:"+i+"px;width:"+r+"px;height:"+a+"px;"+s+'">'},listClear:function(e){$("#"+e).empty()},listSearch:function(e,t,n){var r=null,a=null;$("#"+e+" li").each(function(e){t==e&&(r=$(this).find("a").slice(0,1).attr("href"),a=$(this).text())}),n(a,r)},listSearchPath:function(e,t,n){var r=null;$("#"+e+" li").each(function(e){var n=$(this).find("img").slice(1).attr("title");n==t&&(r=e)}),n(r)},playSound:function(e){C$("#"+e).play()},retiraAcento:function(e){return"À"==e||"Á"==e?"A":"É"==e?"E":"Ó"==e?"O":"Ú"==e?"U":e},checkUser:function(e){$.ajax({url:"php/getipclient.php",success:function(t){dadoMem=e,CP.msgErr("IP client: "+(ipClient=t),!0);t.substr(0,9);inicCam(!0)}})},checkPass:function(e){$("#d1306").fadeIn();var t=e.user.value.toLowerCase();return dadoMem[t]!=e.pass.value?(e.pass.value="",$("#d1306").fadeOut(),alert("Usuário e/ou Senha errados"),CP.checkUser(dadoMem)):(dadoMem.userTime=timeDate(),$("#login").fadeOut(),$("#d1306").fadeOut(),inicCam(!1),void 0)},fadeOutAll:function(e){e.forEach(function(e){$("#"+e).fadeOut()})},hide:function(e){e.forEach(function(e){$("#"+e).hide()})},show:function(e){e.forEach(function(e){$("#"+e).show()})},remOn:function(e){e.forEach(function(e){$("#"+e).removeClass("on")})},addOn:function(e){e.forEach(function(e){$("#"+e).addClass("on")})},clrImg:function(e){e.forEach(function(e){$("#"+e).attr("src","#").hide()})},minifier:function(e,t){$.ajax({url:"php/minifier.php",type:"POST",data:{file:e},error:function(e,n){t(n)},success:function(e){t(e)}})}};